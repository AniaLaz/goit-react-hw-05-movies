"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[394],{394:function(e,t,n){n.r(t),n.d(t,{BASEURL_Movies:function(){return v},KEY:function(){return p},Movies:function(){return m}});var r=n(861),i=n(439),c=n(757),o=n.n(c),a=n(184),u=function(e){var t=e.onSubmit;return(0,a.jsxs)("form",{onSubmit:t,children:[(0,a.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,name:"film",placeholder:"Search movie"}),(0,a.jsx)("button",{type:"submit",children:"Search"})]})},s=n(791),f=n(87),l=n(689),h="Movies_link__MzAfU",p="5b1449ced393d87bc0a1ea0f9fb4bc3e",v="https://api.themoviedb.org/3/search/movie",m=function(){var e,t=(0,s.useState)(!1),n=(0,i.Z)(t,2),c=n[0],v=n[1],m=(0,s.useState)([]),d=(0,i.Z)(m,2),b=d[0],x=d[1],k=(0,f.lr)(),j=(0,i.Z)(k,2),w=j[0],_=j[1],S=null!==(e=w.get("filter"))&&void 0!==e?e:"",g=(0,l.TH)();(0,s.useEffect)((function(){if(""!==S){var e=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(p,"&query=").concat(S,"&page=")).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){x(e.results)}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),window.alert("\u0449\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 9:return e.prev=9,v(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})));return function(){return e.apply(this,arguments)}}();e()}x([])}),[S]);return(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{onSubmit:function(e){e.preventDefault();var t=e.target.film.value;_(""!==t?{filter:t}:{})}}),c&&(0,a.jsx)("div",{children:"Loading..."}),b.length>0&&(0,a.jsx)("ul",{children:b.map((function(e){var t=e.id,n=e.title;return(0,a.jsx)("li",{children:(0,a.jsx)(f.rU,{to:"".concat(t),state:{from:g},className:h,children:n})},t)}))})]})}}}]);
//# sourceMappingURL=394.558fe9a5.chunk.js.map