{"version":3,"file":"static/js/394.558fe9a5.chunk.js","mappings":"gSAAaA,EAAY,SAAC,GAAmB,IAAhBC,EAAe,EAAfA,SAC3B,OACE,kBAAMA,SAAUA,EAAhB,WACE,kBACEC,KAAK,OACLC,aAAa,MACbC,WAAS,EAKTC,KAAK,OACLC,YAAY,kBAEd,mBAAQJ,KAAK,SAAb,sBAGL,E,0BChBD,EAAuB,qBCIVK,EAAM,mCACNC,EAAiB,4CAEjBC,EAAS,WAAO,IAAD,EAC1B,GAAkCC,EAAAA,EAAAA,WAAS,GAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAA4BF,EAAAA,EAAAA,UAAS,IAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAsCC,EAAAA,EAAAA,MAAtC,eAAOC,EAAP,KAAoBC,EAApB,KACMC,EAAM,UAAGF,EAAYG,IAAI,iBAAnB,QAAgC,GAGrCC,GAAWC,EAAAA,EAAAA,OAElBC,EAAAA,EAAAA,YAAU,WACR,GAAe,KAAXJ,EAAe,CAAC,IACHK,EADE,mCACjB,8FAEIX,GAAa,GAFjB,SAGUY,MAAM,qDAAD,OAC4CjB,EAD5C,kBACyDW,EADzD,WAGRO,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAG3B,OAAOH,EAASI,MACjB,IACAL,MAAK,SAAAM,GACJjB,EAAUiB,EAAKC,QAEhB,IAhBP,sDAkBIC,OAAOC,MAAM,2FAlBjB,uBAoBItB,GAAa,GApBjB,0EADiB,qDAwBjBW,GACD,CACDT,EAAU,GACX,GAAE,CAACI,IAkBJ,OACE,4BACE,SAAClB,EAAD,CAAWC,SATQ,SAAAkC,GACnBA,EAAEC,iBAEF,IAAMC,EAAQF,EAAEG,OAAOC,KAAKF,MAC5BpB,EAAyB,KAAVoB,EAAe,CAAEnB,OAAQmB,GAAU,CAAC,EACpD,IAKE1B,IAAa,wCACbE,EAAO2B,OAAS,IACf,wBACG3B,EAAO4B,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACV,yBACE,SAAC,KAAD,CACEC,GAAE,UAAKF,GACPG,MAAO,CAAEC,KAAM1B,GACf2B,UAAWC,EAHb,SAKGL,KANID,EADC,QAerB,C","sources":["components/SearchBox/SearchBox.js","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.js"],"sourcesContent":["export const SearchBox = ({  onSubmit }) => {\n  return (\n    <form onSubmit={onSubmit}>\n      <input\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        // onChange={e => {\n        //   onChange(e.target.value.toLowerCase());\n        // }}\n        \n        name=\"film\"\n        placeholder=\"Search movie\"\n      />\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"Movies_link__MzAfU\"};","import { SearchBox } from '../../components/SearchBox/SearchBox';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport css from '../Movies/Movies.module.css';\n\nexport const KEY = '5b1449ced393d87bc0a1ea0f9fb4bc3e';\nexport const BASEURL_Movies = 'https://api.themoviedb.org/3/search/movie';\n\nexport const Movies = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [movies, setMovies] = useState([]);\n  const [searchParam, setSearchParam] = useSearchParams();\n  const filter = searchParam.get('filter') ?? '';\n\n\n   const location = useLocation();\n\n  useEffect(() => {\n    if (filter !== '') {\n      async function fetchFilms() {\n        try {\n          setIsLoading(true);\n          await fetch(\n            `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&query=${filter}&page=`\n          )\n            .then(response => {\n              if (!response.ok) {\n                throw new Error(response.status);\n              }\n              // console.log(response);\n              return response.json();\n            })\n            .then(data => {\n              setMovies(data.results);\n             \n            });\n        } catch {\n          window.alert('щось пішло не так');\n        } finally {\n          setIsLoading(false);\n        }\n      }\n      fetchFilms();\n    }\n    setMovies([]);\n  }, [filter]);\n\n  // const onChange = value => {\n  //   setSearchParam(value !== '' ? { filter: value } : {});\n  // };\n\n  // const onSubmit = (e) => {\n  // e.preventDefault();\n  //   console.log('onSubmit', e);\n  // }\n\n    const handleSubmit = e => {\n      e.preventDefault();\n\n      const value = e.target.film.value;\n      setSearchParam(value !== '' ? { filter: value } : {});\n    };\n\n  return (\n    <div>\n      <SearchBox onSubmit={handleSubmit} />\n      {isLoading && <div>Loading...</div>}\n      {movies.length > 0 && (\n        <ul>\n          {movies.map(({ id, title }) => (\n            <li key={id}>\n              <Link\n                to={`${id}`}\n                state={{ from: location }}\n                className={css.link}\n              >\n                {title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n"],"names":["SearchBox","onSubmit","type","autoComplete","autoFocus","name","placeholder","KEY","BASEURL_Movies","Movies","useState","isLoading","setIsLoading","movies","setMovies","useSearchParams","searchParam","setSearchParam","filter","get","location","useLocation","useEffect","fetchFilms","fetch","then","response","ok","Error","status","json","data","results","window","alert","e","preventDefault","value","target","film","length","map","id","title","to","state","from","className","css"],"sourceRoot":""}